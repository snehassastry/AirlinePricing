<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Airline Overbooking Optimization</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #eaf3fc;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 1000px;
      margin: 40px auto;
      background-color: white;
      padding: 30px 50px 40px;
      border-radius: 14px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    }

    h2 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 25px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 260px 180px 260px 180px;
      gap: 10px 10px;
      align-items: center;
    }

    label {
      font-weight: 500;
      color: #333;
      text-align: right;
      margin-right: 8px;
    }

    input,
    select {
      padding: 7px 9px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 100%;
      box-sizing: border-box;
    }

    button {
      margin-top: 25px;
      width: 100%;
      padding: 12px;
      background-color: #007BFF;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }

    .results {
      margin-top: 30px;
      padding: 20px;
      background-color: #f1f8ff;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>‚úàÔ∏è Airline Overbooking Optimization</h2>
    <form method="POST">
      <div class="form-grid">
        <label>Days to Departure</label>
        <input type="number" name="time_steps" value="{{ form_values.time_steps or 365 }}">
        <label>Discount Rate</label>
        <input type="text" name="discount" value="{{ form_values.discount or 0.99954 }}">

        <label>Coach Seats</label>
        <input type="number" name="n_seats_coach" value="{{ form_values.n_seats_coach or 100 }}">
        <label>Overbooking Limit</label>
        <input type="number" name="overbook_coach" value="{{ form_values.overbook_coach or 5 }}">

        <label>Coach Price (High)</label>
        <input type="number" name="price_coach_high" value="{{ form_values.price_coach_high or 350 }}">
        <label>Sell Probability</label>
        <input type="text" name="prob_coach_high" value="{{ form_values.prob_coach_high or 0.30 }}">

        <label>Coach Price (Low)</label>
        <input type="number" name="price_coach_low" value="{{ form_values.price_coach_low or 300 }}">
        <label>Sell Probability</label>
        <input type="text" name="prob_coach_low" value="{{ form_values.prob_coach_low or 0.65 }}">

        <label>Coach Showup Prob.</label>
        <input type="text" name="showup_prob_coach" value="{{ form_values.showup_prob_coach or 0.95 }}">
        <label>First Class Showup Prob.</label>
        <input type="text" name="showup_prob_first" value="{{ form_values.showup_prob_first or 0.90 }}">

        <label>First Class Seats</label>
        <input type="number" name="n_seats_first" value="{{ form_values.n_seats_first or 20 }}">
        <div></div><div></div>

        <label>First Class Price (High)</label>
        <input type="number" name="price_first_high" value="{{ form_values.price_first_high or 500 }}">
        <label>Sell Probability</label>
        <input type="text" name="prob_first_high" value="{{ form_values.prob_first_high or 0.04 }}">

        <label>First Class Price (Low)</label>
        <input type="number" name="price_first_low" value="{{ form_values.price_first_low or 425 }}">
        <label>Sell Probability</label>
        <input type="text" name="prob_first_low" value="{{ form_values.prob_first_low or 0.08 }}">

        <label>Boost Coach Buy (%)</label>
        <input type="text" name="coach_price_boost" value="{{ form_values.coach_price_boost or 0.03 }}">
        <div></div><div></div>

        <label>Upgrade Cost to First Class</label>
        <input type="text" name="cost_upgrade" value="{{ form_values.cost_upgrade or 30 }}">
        <label>Deboard Cost</label>
        <input type="text" name="cost_off" value="{{ form_values.cost_off or 100 }}">

        <label>Seasonality (T/F)</label>
        <select name="apply_seasonality">
          <option value="True" {% if form_values.apply_seasonality == 'True' %}selected{% endif %}>True</option>
          <option value="False" {% if form_values.apply_seasonality == 'False' %}selected{% endif %}>False</option>
        </select>

        <label>Option to Not Sell Coach (T/F)</label>
        <select name="has_option_to_not_sell">
          <option value="True" {% if form_values.has_option_to_not_sell == 'True' %}selected{% endif %}>True</option>
          <option value="False" {% if form_values.has_option_to_not_sell == 'False' %}selected{% endif %}>False</option>
        </select>
      </div>

      <button type="submit">Render Results üìä</button>
    </form>

    {% if result %}
    <div class="results">
      <h3>üìä Model Results</h3>
      <p>{{ result }}</p>
      {% if graph_url %}
        <img src="{{ graph_url }}" alt="Model Output Graph" style="max-width:100%; border-radius: 8px; margin-top: 20px;">
      {% endif %}
    </div>
    {% endif %}
  </div>
</body>
</html>
